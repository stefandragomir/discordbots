
import sys
import os
import discord
import asyncio
import furion_msg

from furion_cst    import *
from furion_msg    import Furion_Message
from furion_logger import Furion_Logger

'''********************************************************************************************************
***********************************************************************************************************
********************************************************************************************************'''
log         = Furion_Logger()

'''********************************************************************************************************
***********************************************************************************************************
********************************************************************************************************'''
client = discord.Client()

'''********************************************************************************************************
***********************************************************************************************************
********************************************************************************************************'''
@client.event
async def on_ready():

    global guild

    for _guild in client.guilds:

        if _guild.name == FURION_GUILD:

            guild = _guild

            log.info("furion connected to %s" % (_guild.name,))

'''********************************************************************************************************
***********************************************************************************************************
********************************************************************************************************'''
@client.event
async def on_disconnect():

    log.info("furion disconnected")

'''********************************************************************************************************
***********************************************************************************************************
********************************************************************************************************'''
@client.event
async def on_message(message):

    _msg = Furion_Message(client, message)

    _msg.reply()

'''********************************************************************************************************
***********************************************************************************************************
********************************************************************************************************'''
client.run(FURION_TOKEN)